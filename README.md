# å¾®ä¿¡è¯»ä¹¦AIåŠ©æ‰‹

**å¾®ä¿¡è¯»ä¹¦AIåŠ©æ‰‹**æ˜¯ä¸€æ¬¾åŸºäºAIæŠ€æœ¯çš„æµè§ˆå™¨æ‰©å±•ï¼Œæ—¨åœ¨è¾…åŠ©ç”¨æˆ·é«˜æ•ˆé˜…è¯»å¾®ä¿¡è¯»ä¹¦ï¼Œé€šè¿‡è‡ªåŠ¨æ‘˜è¦ã€å…³é”®ç‚¹æå–ã€æ€ç»´å¯¼å›¾ç”Ÿæˆç­‰åŠŸèƒ½ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿç†è§£å’Œæ€»ç»“ä¹¦ç±å†…å®¹ã€‚ä»¥å‰éœ€è¦èŠ±è´¹å¤§é‡æ—¶é—´é˜…è¯»ä¸€æœ¬ä¹¦ï¼Œç°åœ¨ä½ å¯ä»¥è½»æ¾é˜…è¯»æ›´å¤šä¹¦ç±ï¼Œå¤§å¹…æå‡å¹´åº¦é˜…è¯»é‡ã€‚

## éœ€æ±‚ä»‹ç»

é’ˆå¯¹å¾®ä¿¡è¯»ä¹¦çš„AIåŠ©æ‰‹ï¼Œå¯ä»¥è¾…åŠ©AIé˜…è¯»ï¼ŒAIå¸®åŠ©æˆ‘ä»¬å¿«é€Ÿé˜…è¯»ä¹¦ç±ï¼Œå¾—åˆ°æ€»ç»“ã€‚ä»¥å‰éƒ½ä¸€æœ¬ä¹¦çš„æ—¶é—´ï¼Œç°åœ¨å¯ä»¥è¯»100æœ¬ï¼Œä¸€å¹´é˜…è¯»é‡10000æœ¬+è½»è½»æ¾æ¾ï½

## åŠŸèƒ½éœ€æ±‚

### 1. å¿«é€Ÿè·å–ä¹¦ç±æ ¸å¿ƒå†…å®¹

- **è‡ªåŠ¨æ‘˜è¦**
  - æ ¹æ®ä¹¦ç±å†…å®¹ç”Ÿæˆé«˜åº¦æµ“ç¼©çš„æ‘˜è¦ï¼Œå¿«é€Ÿæä¾›ä¹¦ç±çš„æ ¸å¿ƒæ€æƒ³å’Œå…³é”®è®ºç‚¹ã€‚
  - å¯é€‰æ‘˜è¦ç±»å‹ï¼š
    - 5åˆ†é’Ÿå¿«é€Ÿè¯»
    - å…³é”®ç« èŠ‚ç²¾è¯»
    - ä¸€å¥è¯æ€»ç»“

- **å…³é”®ç‚¹æå–**
  - æå–ä¹¦ä¸­çš„**é‡‘å¥**ã€**å…³é”®æ•°æ®**ã€**æ ¸å¿ƒæ¦‚å¿µ**ï¼Œå¹¶æ ‡æ³¨å‡ºå¤„ã€‚

- **æ€ç»´å¯¼å›¾ç”Ÿæˆ**
  - æ ¹æ®ä¹¦ç±å†…å®¹ç”Ÿæˆç»“æ„åŒ–çš„æ€ç»´å¯¼å›¾ï¼Œå±•ç¤ºä¹¦ç±é€»è¾‘æ¡†æ¶å’Œå†…å®¹å…¨è²Œã€‚

- **ç« èŠ‚é€Ÿè§ˆ**
  - æŒ‰ç« èŠ‚ç”Ÿæˆæ‘˜è¦ï¼Œè®©ç”¨æˆ·å¿«é€Ÿäº†è§£æŸä¸€ç« èŠ‚çš„å†…å®¹ã€‚

### 2. ä¸ªæ€§åŒ–é˜…è¯»ä½“éªŒ

- **å®šåˆ¶åŒ–æ‘˜è¦**
  - æ ¹æ®ç”¨æˆ·éœ€æ±‚ç”Ÿæˆæ‘˜è¦ï¼Œå¦‚ï¼š
    - ä¸“æ³¨äºæŸä¸€ä¸»é¢˜ï¼ˆä¾‹å¦‚â€œå•†ä¸šâ€ã€â€œå†å²èƒŒæ™¯â€ï¼‰ã€‚
    - é¢å‘ä¸åŒèŒä¸šèƒŒæ™¯ï¼ˆå¦‚â€œå­¦ç”Ÿç‰ˆâ€ã€â€œèŒåœºç²¾è‹±ç‰ˆâ€ï¼‰ã€‚
    - ç›®æ ‡å­¦ä¹ å†…å®¹ï¼ˆå¦‚â€œé€‚åˆåšæ¼”è®²æçº²â€æˆ–â€œå†™ä½œçµæ„Ÿâ€ï¼‰ã€‚

- **éš¾ç‚¹è®²è§£**
  - å¯¹ä¹¦ä¸­éš¾ä»¥ç†è§£çš„æ¦‚å¿µï¼Œæä¾›é€šä¿—æ˜“æ‡‚çš„è§£é‡Šï¼Œå¹¶é™„å¸¦å®é™…åº”ç”¨åœºæ™¯ã€‚

- **è¯­éŸ³é˜…è¯»æ¨¡å¼**
  - ä¸ºç”¨æˆ·æä¾›ä¹¦ç±æ‘˜è¦æˆ–é‡è¦ç« èŠ‚çš„è¯­éŸ³ç‰ˆï¼Œæ–¹ä¾¿åœ¨ç¢ç‰‡æ—¶é—´è¿›è¡Œå­¦ä¹ ã€‚

### 3. é˜…è¯»è§„åˆ’ä¸è¾…åŠ©

- **å¿«é€Ÿæ¨è**
  - æ ¹æ®ç”¨æˆ·å·²è¯»ä¹¦ç±ï¼Œæ¨èç›¸å…³ä¸»é¢˜æˆ–ä½œè€…çš„ä¹¦ç±ï¼Œæå‡é˜…è¯»æ•ˆç‡ã€‚

- **ç›®æ ‡åˆ¶å®šä¸è¿›åº¦è¿½è¸ª**
  - è®¾ç½®å¹´åº¦é˜…è¯»ç›®æ ‡ï¼Œä¾‹å¦‚â€œ100æœ¬ä¹¦â€ï¼Œå¹¶åˆ†è§£ä¸ºæœˆåº¦/å‘¨ç›®æ ‡ã€‚
  - è‡ªåŠ¨ç”Ÿæˆæ¯æ—¥é˜…è¯»è®¡åˆ’ï¼Œå¹¶æé†’ç”¨æˆ·å®Œæˆã€‚

- **é«˜æ•ˆæœç´¢**
  - é’ˆå¯¹æŸä¸€ç‰¹å®šä¸»é¢˜æˆ–é—®é¢˜ï¼Œç›´æ¥ä»ä¹¦ç±å†…å®¹ä¸­æ£€ç´¢ç›¸å…³ä¿¡æ¯ã€‚
  - æ”¯æŒæœç´¢å…¨ä¹¦ã€æŒ‡å®šç« èŠ‚æˆ–å…³é”®è¯ã€‚

### 4. æ·±åº¦å­¦ä¹ ä¸äº’åŠ¨

- **ç”Ÿæˆé—®ç­”å¯¹**
  - æ ¹æ®ä¹¦ç±å†…å®¹ç”Ÿæˆé—®é¢˜å’Œç­”æ¡ˆï¼Œç”¨äºåŠ æ·±ç†è§£ï¼ˆé€‚åˆè€ƒè¯•æˆ–çŸ¥è¯†æ£€æµ‹ï¼‰ã€‚

- **ç”Ÿæˆä¹¦è¯„**
  - æä¾›é’ˆå¯¹ä¹¦ç±å†…å®¹çš„æ·±åº¦è¯„è®ºå’Œç”¨æˆ·å¯ä»¥å‚è€ƒçš„ä¹¦è¯„æ¨¡æ¿ã€‚

- **é˜…è¯»è®°å½•åˆ†æ**
  - åˆ†æç”¨æˆ·çš„é˜…è¯»æ•°æ®ï¼Œç”Ÿæˆé˜…è¯»åå¥½æŠ¥å‘Šï¼Œå»ºè®®æ”¹è¿›é˜…è¯»ä¹ æƒ¯ã€‚

- **è·¨ä¹¦ç±çŸ¥è¯†æ•´åˆ**
  - å¦‚æœç”¨æˆ·è¯»è¿‡å¤šæœ¬ä¹¦ï¼ŒAIå¯ä»¥è¿›è¡Œè·¨ä¹¦æ•´åˆï¼Œæå–å…³è”çŸ¥è¯†ç‚¹ï¼Œå¸®åŠ©æ„å»ºçŸ¥è¯†ç½‘ç»œã€‚

### 5. å¾®ä¿¡è¯»ä¹¦ç‰¹åŒ–åŠŸèƒ½

- **é«˜äº®å†…å®¹æ™ºèƒ½ç®¡ç†**
  - å¯¹ç”¨æˆ·åœ¨å¾®ä¿¡è¯»ä¹¦ä¸­æ ‡æ³¨çš„é«˜äº®å†…å®¹è¿›è¡Œå½’çº³åˆ†ç±»ï¼Œç”ŸæˆçŸ¥è¯†å¡ç‰‡ã€‚

- **å®æ—¶å¯¹è¯åŠ©æ‰‹**
  - åœ¨é˜…è¯»æ—¶éšæ—¶æé—®ï¼Œä¾‹å¦‚â€œè¿™æ®µè¯çš„æ„æ€æ˜¯ä»€ä¹ˆï¼Ÿâ€æˆ–â€œæœ‰ä»€ä¹ˆç±»ä¼¼çš„ä¾‹å­ï¼Ÿâ€
  - æä¾›èƒŒæ™¯è¡¥å……æˆ–ç›¸å…³ä¸»é¢˜å»¶ä¼¸é˜…è¯»ã€‚

- **ä¹¦ç±è¯„åˆ†é¢„æµ‹**
  - é¢„æµ‹ç”¨æˆ·å¯¹ä¹¦ç±çš„è¯„åˆ†ï¼Œå¹¶æç¤ºé˜…è¯»å¯èƒ½æ€§è¾ƒä½çš„ç« èŠ‚ã€‚

### 6. AIè¾…åŠ©å†…å®¹è¾“å‡º

- **çŸ¥è¯†å¡ç‰‡ç”Ÿæˆ**
  - å°†ä¹¦ç±æ‘˜è¦è½¬åŒ–ä¸ºå¯åˆ†äº«çš„å›¾æ–‡å†…å®¹ï¼Œç”¨äºç¤¾äº¤å¹³å°åˆ†äº«ã€‚

- **æ¼”è®²æˆ–æ±‡æŠ¥æçº²**
  - é’ˆå¯¹ä¹¦ç±ç”Ÿæˆæ¼”è®²æçº²æˆ–PPTç»“æ„ã€‚

- **å­¦ä¹ ç¬”è®°è‡ªåŠ¨åŒ–**
  - ä¸ºç”¨æˆ·ç”Ÿæˆå…¨é¢ã€æ˜“äºå¤ä¹ çš„å­¦ä¹ ç¬”è®°ã€‚

### 7. è‡ªå®šä¹‰åŠŸèƒ½

- **APIé…ç½®ç®¡ç†**
  - æä¾›æ–¹ä¾¿çš„API Baseå’ŒAPI Keyé…ç½®å…¥å£ï¼Œæ”¯æŒä¸ªäººå®šåˆ¶åŒ–æ¨¡å‹è°ƒç”¨ã€‚

- **å¤šè¯­è¨€æ”¯æŒ**
  - æä¾›ç¿»è¯‘åŠŸèƒ½ï¼Œç”¨äºé˜…è¯»å¤–æ–‡ä¹¦ç±ã€‚

### å…³é”®æ•ˆç›Š

- **èŠ‚çœæ—¶é—´**ï¼šå°†å‡ å°æ—¶çš„é˜…è¯»æµ“ç¼©ä¸ºå‡ åˆ†é’Ÿçš„æ€»ç»“ã€‚
- **é«˜æ•ˆå­¦ä¹ **ï¼šé€šè¿‡å¤šæ ·åŒ–çš„æå–ä¸æ•´åˆå·¥å…·ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿæ›´å¿«æŒæ¡ä¹¦ç±å†…å®¹ã€‚
- **çŸ¥è¯†ç•™å­˜**ï¼šè¾…åŠ©ç”¨æˆ·æ•´ç†ç¬”è®°ï¼Œä¾¿äºåç»­å›é¡¾ä¸æ·±åº¦åº”ç”¨ã€‚

### æœªæ¥æ‰©å±•

- æ”¯æŒç¾¤ç»„å­¦ä¹ ï¼ˆä¸å¥½å‹åˆ†äº«ä¹¦æ‘˜ä¸ç¬”è®°ï¼‰ã€‚
- æä¾›ç”¨æˆ·â€œçŸ¥è¯†åœ°å›¾â€åŠŸèƒ½ï¼Œå±•ç¤ºæ‰€æœ‰é˜…è¯»ä¹¦ç±é—´çš„å…³è”æ€§å’ŒçŸ¥è¯†ç½‘ç»œã€‚

## æŠ€æœ¯æ ˆé€‰æ‹©

- **è¯­è¨€**ï¼šTypeScript
- **å‰ç«¯æ¡†æ¶**ï¼šReact
  - ä½¿ç”¨Reactå¯å¿«é€Ÿæ„å»ºå¤æ‚çš„ç”¨æˆ·ç•Œé¢ã€‚
- **æ’ä»¶å·¥å…·**ï¼šWeb Extension API
  - æ”¯æŒChromeã€Firefoxå’ŒEdgeç­‰ä¸»æµæµè§ˆå™¨ã€‚
- **åç«¯æœåŠ¡**ï¼ˆå¯é€‰ï¼‰ï¼š
  - é…åˆè‡ªå®šä¹‰APIæœåŠ¡ï¼ˆå¦‚æ‘˜è¦å’ŒNLPæ¨¡å‹è°ƒç”¨ï¼‰ã€‚
  - ä½¿ç”¨OpenAIçš„APIè¿›è¡Œæ–‡æœ¬å¤„ç†ã€‚

---

## å®‰è£…ä¸ä½¿ç”¨

### 1. é¡¹ç›®å‡†å¤‡ä¸è§„åˆ’

#### 1.1 åŠŸèƒ½æ¨¡å—åˆ’åˆ†

æŒ‰ç…§éœ€æ±‚æ–‡æ¡£ï¼Œåˆ’åˆ†æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼š

- **ä¹¦ç±å†…å®¹æå–ä¸å¤„ç†æ¨¡å—**
  - è‡ªåŠ¨æ‘˜è¦
  - å…³é”®ç‚¹æå–
  - æ€ç»´å¯¼å›¾ç”Ÿæˆ

- **ä¸ªæ€§åŒ–è®¾ç½®æ¨¡å—**
  - å®šåˆ¶åŒ–æ‘˜è¦
  - éš¾ç‚¹è®²è§£
  - è¯­éŸ³æ¨¡å¼

- **é˜…è¯»è¾…åŠ©æ¨¡å—**
  - æ¨èä¹¦ç±
  - ç›®æ ‡åˆ¶å®šä¸è·Ÿè¸ª
  - é«˜æ•ˆæœç´¢

- **äº’åŠ¨ä¸æ·±åº¦å­¦ä¹ æ¨¡å—**
  - é—®ç­”ç”Ÿæˆ
  - ä¹¦è¯„ç”Ÿæˆ
  - è·¨ä¹¦æ•´åˆ

- **å¾®ä¿¡è¯»ä¹¦ç‰¹åŒ–æ¨¡å—**
  - é«˜äº®å†…å®¹ç®¡ç†
  - å®æ—¶å¯¹è¯åŠ©æ‰‹

- **è¾…åŠ©å†…å®¹è¾“å‡ºæ¨¡å—**
  - çŸ¥è¯†å¡ç‰‡ç”Ÿæˆ
  - æ¼”è®²æçº²
  - å­¦ä¹ ç¬”è®°

- **ç³»ç»Ÿé…ç½®æ¨¡å—**
  - APIé…ç½®
  - å¤šè¯­è¨€æ”¯æŒ

#### 1.2 æŠ€æœ¯æ ˆç¡®å®š

- **è¯­è¨€**ï¼šTypeScriptï¼ˆå¢å¼ºä»£ç å®‰å…¨æ€§å’Œå¼€å‘æ•ˆç‡ï¼‰
- **å‰ç«¯æ¡†æ¶**ï¼šReactï¼ˆç»„ä»¶åŒ–å¼€å‘ï¼‰
- **åç«¯æœåŠ¡**ï¼šä½¿ç”¨OpenAI APIè¿›è¡Œæ–‡æœ¬å¤„ç†
- **æµè§ˆå™¨æ‰©å±•å·¥å…·**ï¼šWeb Extension API

#### 1.3 æ’ä»¶è®¾è®¡

è®¾è®¡æ’ä»¶çš„ç”¨æˆ·äº¤äº’å’Œç•Œé¢ï¼š

- **ä¸»ç•Œé¢**ï¼šåŠŸèƒ½æ€»è§ˆï¼Œå±•ç¤ºæ‘˜è¦å’Œåˆ†æã€‚
- **é…ç½®ç•Œé¢**ï¼šAPI Baseå’ŒAPI Keyè®¾ç½®ã€‚
- **å¼¹çª—å·¥å…·**ï¼šé˜…è¯»æ—¶çš„å®æ—¶åŠ©æ‰‹ã€‚
- **æ‚¬æµ®çª—**ï¼šå¾®ä¿¡è¯»ä¹¦é¡µé¢ä¸Šçš„å³æ—¶åŠŸèƒ½ï¼ˆå¦‚é«˜äº®å†…å®¹æå–ã€å®æ—¶æé—®ï¼‰ã€‚

### 2. å¼€å‘ç¯å¢ƒæ­å»º

#### 2.1 åˆå§‹åŒ–é¡¹ç›®

1. ä½¿ç”¨Viteåˆå§‹åŒ–React TypeScripté¡¹ç›®ï¼š

   ```bash
   npm create vite@latest wechat-reader-ai -- --template react-ts
   cd wechat-reader-ai
   ```

2. é…ç½®Web Extensionï¼š

   - åˆ›å»º `manifest.json`ã€‚
   - å®šä¹‰æƒé™ï¼ˆå¦‚ `tabs`ã€`storage`ï¼‰ã€‚
   - è®¾ç½®ä¸»å…¥å£é¡µé¢å’Œè„šæœ¬æ–‡ä»¶ã€‚

#### 2.2 å®‰è£…ä¾èµ–

å®‰è£…é¡¹ç›®æ‰€éœ€çš„ä¾èµ–ï¼š

```bash
npm install react react-dom react-router-dom webextension-polyfill openai axios d3 js-mindmap
npm install --save-dev @types/node @types/react @types/react-dom @types/chrome typescript ts-loader css-loader style-loader copy-webpack-plugin webpack webpack-cli
```

#### 2.3 å¼€å‘ç¯å¢ƒé…ç½®

- é…ç½®Webpackè¿›è¡Œå¼€å‘å’Œæ‰“åŒ…ã€‚
- ä½¿ç”¨ `copy-webpack-plugin` å¤åˆ¶é™æ€èµ„æºã€‚
- é…ç½®çƒ­æ›´æ–°ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚
- å®‰è£…Chrome Extension Developer Toolè¿›è¡Œè°ƒè¯•ã€‚

### 3. åŠŸèƒ½å®ç°

#### 3.1 æ ¸å¿ƒåŠŸèƒ½å¼€å‘

##### 3.1.1 è‡ªåŠ¨æ‘˜è¦æ¨¡å—

1. **API é›†æˆ**ï¼š

   é…ç½®è°ƒç”¨OpenAIçš„GPTæ¨¡å‹ï¼Œç”¨äºæ‘˜è¦ç”Ÿæˆã€‚

   ```typescript
   import axios from 'axios';

   const fetchSummary = async (text: string, apiKey: string) => {
     const response = await axios.post('https://api.openai.com/v1/chat/completions', {
       model: 'gpt-3.5-turbo',
       messages: [{
         role: 'user',
         content: `è¯·å¯¹ä»¥ä¸‹å†…å®¹è¿›è¡Œæ‘˜è¦ï¼Œè¦æ±‚ï¼š
         1. æç‚¼æ ¸å¿ƒè§‚ç‚¹å’Œå…³é”®ä¿¡æ¯
         2. ä¿æŒé€»è¾‘æ¸…æ™°ï¼Œå±‚æ¬¡åˆ†æ˜
         3. è¯­è¨€ç®€æ´å‡†ç¡®
         4. çªå‡ºé‡è¦æ¦‚å¿µå’Œç»“è®º

         å†…å®¹ï¼š${text}`
       }]
     }, {
       headers: { Authorization: `Bearer ${apiKey}` }
     });
     return response.data.choices[0].message.content;
   };
   ```

2. **å‰ç«¯å±•ç¤º**ï¼š

   åœ¨UIä¸Šæ·»åŠ æ‘˜è¦ç±»å‹é€‰æ‹©ï¼ˆå¿«é€Ÿè¯»ã€å…³é”®ç« èŠ‚ã€ä¸€å¥è¯æ€»ç»“ï¼‰ï¼Œå¹¶æ˜¾ç¤ºç”Ÿæˆçš„æ‘˜è¦ã€‚

##### 3.1.2 å…³é”®ç‚¹æå–

- è°ƒç”¨OpenAIæ¨¡å‹æå–é‡‘å¥ã€æ•°æ®ã€æ ¸å¿ƒæ¦‚å¿µã€‚
- å®ç°æ–‡æœ¬é«˜äº®å’Œæ ‡æ³¨ã€‚

##### 3.1.3 æ€ç»´å¯¼å›¾ç”Ÿæˆ

ä½¿ç”¨D3.jsæˆ–js-mindmapç”Ÿæˆæ€ç»´å¯¼å›¾ã€‚

```typescript
import MindMap from 'js-mindmap';

const renderMindMap = (data: any) => {
  const mindmap = new MindMap(document.getElementById('mindmap'), data);
  mindmap.render();
};
```

#### 3.2 å¾®ä¿¡è¯»ä¹¦ç‰¹åŒ–åŠŸèƒ½

1. **é«˜äº®å†…å®¹ç®¡ç†**ï¼š

   ä½¿ç”¨Web Extension APIç›‘å¬é¡µé¢DOMçš„å˜åŒ–ï¼Œè·å–ç”¨æˆ·é«˜äº®å†…å®¹ã€‚

   ```typescript
   chrome.tabs.executeScript({
     code: `
       Array.from(document.querySelectorAll('.highlight')).map(node => node.innerText);
     `,
   });
   ```

2. **å®æ—¶åŠ©æ‰‹**ï¼š

   æ‚¬æµ®çª—å£è°ƒç”¨GPTæ¨¡å‹è§£ç­”ç”¨æˆ·é—®é¢˜ã€‚

#### 3.3 ä¸ªæ€§åŒ–é˜…è¯»ä¸è¾…åŠ©æ¨¡å—

- **æ¨èç³»ç»Ÿ**ï¼šåŸºäºç”¨æˆ·é˜…è¯»å†å²ï¼Œè°ƒç”¨æ¨èAPIæˆ–ä½¿ç”¨ç®€å•åŒ¹é…ç®—æ³•ã€‚
- **ç›®æ ‡åˆ¶å®šä¸è¿½è¸ª**ï¼šä½¿ç”¨ `chrome.storage` ä¿å­˜ç”¨æˆ·ç›®æ ‡å’Œè¿›åº¦ã€‚

#### 3.4 è‡ªå®šä¹‰åŠŸèƒ½

- **APIé…ç½®ç®¡ç†**ï¼šæä¾›ä¸€ä¸ªè¡¨å•ï¼Œå­˜å‚¨ç”¨æˆ·çš„API Keyã€‚
- **å¤šè¯­è¨€æ”¯æŒ**ï¼šè°ƒç”¨GPTçš„ç¿»è¯‘åŠŸèƒ½ã€‚

### 4. å‰ç«¯ç•Œé¢è®¾è®¡

#### 4.1 é¡µé¢å¸ƒå±€

- **ä¸»ç•Œé¢**ï¼šåŠŸèƒ½æ€»è§ˆå’Œæ‘˜è¦å±•ç¤ºã€‚
- **æµ®çª—ç•Œé¢**ï¼šè½»é‡åŒ–ç•Œé¢ï¼Œç”¨äºæ‚¬æµ®æ˜¾ç¤ºå†…å®¹ã€‚

#### 4.2 ä½¿ç”¨Reactç»„ä»¶

- **ä¸»ç»„ä»¶**ï¼šè´Ÿè´£å„æ¨¡å—çš„çŠ¶æ€ç®¡ç†ã€‚
- **å­ç»„ä»¶**ï¼šæ‘˜è¦å±•ç¤ºã€æ€ç»´å¯¼å›¾ã€æé—®åŠ©æ‰‹ã€‚

### 5. æ’ä»¶æ‰“åŒ…ä¸å‘å¸ƒ

#### 5.1 æ‰“åŒ…æ’ä»¶

ä½¿ç”¨Webpackæ‰“åŒ…Reacté¡¹ç›®ï¼Œå¹¶æ·»åŠ `manifest.json`åŠå¿…è¦èµ„æºæ–‡ä»¶ã€‚ç¡®ä¿æ–‡ä»¶å¤¹ç»“æ„å¦‚ä¸‹ï¼š

```yaml
/dist
  /styles
  manifest.json
  background.js
  contentScript.js
  popup.html
  popup.js
```

#### 5.2 æœ¬åœ°æµ‹è¯•

1. åœ¨Chromeæµè§ˆå™¨ä¸­æ‰“å¼€ [æ‰©å±•ç¨‹åºé¡µé¢](chrome://extensions/)ã€‚
2. å¼€å¯â€œå¼€å‘è€…æ¨¡å¼â€ã€‚
3. ç‚¹å‡»â€œåŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åºâ€å¹¶é€‰æ‹©`dist`æ–‡ä»¶å¤¹ã€‚
4. æµ‹è¯•æ’ä»¶åŠŸèƒ½æ˜¯å¦æ­£å¸¸ã€‚

#### 5.3 å‘å¸ƒåˆ°Chrome Web Store

1. å‹ç¼©æ‰“åŒ…å¥½çš„æ’ä»¶ä¸ºZIPæ–‡ä»¶ã€‚
2. ç™»å½• [Chrome Web Store Developer Dashboard](https://chrome.google.com/webstore/devconsole)ã€‚
3. ä¸Šä¼ ZIPæ–‡ä»¶å¹¶å¡«å†™ç›¸å…³ä¿¡æ¯ï¼ˆæè¿°ã€æˆªå›¾ç­‰ï¼‰ã€‚
4. æäº¤å®¡æ ¸ï¼Œç­‰å¾…å‘å¸ƒã€‚

### 6. ä½¿ç”¨è¯´æ˜

#### 6.1 å®‰è£…æ’ä»¶

1. ä¸‹è½½æ’ä»¶æºç å¹¶å…‹éš†åˆ°æœ¬åœ°ã€‚
2. è¿›å…¥é¡¹ç›®ç›®å½•ï¼Œå®‰è£…ä¾èµ–ï¼š

   ```bash
   npm install
   ```

3. æ„å»ºé¡¹ç›®ï¼š

   ```bash
   npm run build
   ```

4. æ‰“å¼€Chromeæµè§ˆå™¨ï¼Œè¿›å…¥[æ‰©å±•ç¨‹åºé¡µé¢](chrome://extensions/)ã€‚
5. å¼€å¯â€œå¼€å‘è€…æ¨¡å¼â€ã€‚
6. ç‚¹å‡»â€œåŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åºâ€ï¼Œé€‰æ‹©`dist`æ–‡ä»¶å¤¹ã€‚

#### 6.2 é…ç½®API Key

1. å®‰è£…å¹¶åŠ è½½æ’ä»¶åï¼Œç‚¹å‡»æµè§ˆå™¨å·¥å…·æ ä¸­çš„æ’ä»¶å›¾æ ‡ï¼Œæ‰“å¼€å¼¹å‡ºçª—å£ã€‚
2. åœ¨å¼¹å‡ºçª—å£ä¸­ï¼Œè¾“å…¥æ‚¨çš„OpenAI API Keyå’ŒAPI Base URLï¼š
   - **OpenAI API Key**ï¼šåœ¨[OpenAIè´¦æˆ·é¡µé¢](https://platform.openai.com/account/api-keys)è·å–ã€‚
   - **API Base URL**ï¼šé»˜è®¤ä¸º `https://api.openai.com/v1`ï¼Œå¦‚æœ‰è‡ªå®šä¹‰éœ€æ±‚å¯è¿›è¡Œä¿®æ”¹ã€‚
3. ç‚¹å‡»â€œä¿å­˜é…ç½®â€æŒ‰é’®ï¼Œå®ŒæˆAPIé…ç½®ã€‚

#### 6.3 ä½¿ç”¨æ’ä»¶åŠŸèƒ½

1. æ‰“å¼€å¾®ä¿¡è¯»ä¹¦çš„é˜…è¯»é¡µé¢ï¼ˆä¾‹å¦‚ï¼šhttps://weread.qq.com/web/reader/ï¼‰ã€‚
2. é¡µé¢å³ä¸‹è§’ä¼šæ˜¾ç¤ºä¸€ä¸ªæœºå™¨äººå›¾æ ‡ï¼ˆğŸ¤–ï¼‰ã€‚ç‚¹å‡»å›¾æ ‡ï¼Œèœå•ä¼šå±•å¼€ã€‚
3. é€‰æ‹©â€œç”Ÿæˆç« èŠ‚æ‘˜è¦â€æˆ–â€œæå–é‡ç‚¹å†…å®¹â€è¿›è¡Œç›¸åº”æ“ä½œã€‚
4. æ“ä½œè¿‡ç¨‹ä¸­ï¼ŒæŒ‰é’®ä¼šæ˜¾ç¤ºåŠ è½½çŠ¶æ€ï¼Œå®Œæˆåä¼šå¼¹å‡ºæ‘˜è¦æˆ–æå–çš„å†…å®¹ã€‚

### 7. è´¡çŒ®æŒ‡å—

æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å‚ä¸é¡¹ç›®ï¼š

1. Forkæœ¬ä»“åº“ã€‚
2. åˆ›å»ºæ‚¨çš„Featureåˆ†æ”¯ï¼š`git checkout -b feature/YourFeature`
3. æäº¤æ‚¨çš„æ›´æ”¹ï¼š`git commit -m 'Add some feature'`
4. æ¨é€åˆ°åˆ†æ”¯ï¼š`git push origin feature/YourFeature`
5. æ‰“å¼€Pull Requestã€‚

### 8. è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT License](LICENSE) å¼€æºï¼Œè¯¦æƒ…è¯·å‚é˜…LICENSEæ–‡ä»¶ã€‚

### 9. å‚è€ƒé“¾æ¥

- [Chrome Web Store - AIé˜…è¯»åŠ©æ‰‹æµ‹è¯•ç‰ˆ](https://chromewebstore.google.com/detail/ai%E9%98%85%E8%AF%BB%E5%8A%A9%E6%89%8B%E6%B5%8B%E8%AF%95%E7%89%88/mfpmipdckdgjdmaffpehmhckhejkoioa)
- [OpenAI API Keys](https://platform.openai.com/account/api-keys)

## æŠ€æœ¯ç»†èŠ‚

### APIè°ƒç”¨ä¸é”™è¯¯å¤„ç†

åœ¨è°ƒç”¨OpenAI APIå‰ï¼Œç¡®ä¿å·²ç»åœ¨æ’ä»¶è®¾ç½®ä¸­é…ç½®äº†æœ‰æ•ˆçš„API Keyã€‚å¦‚æœAPI Keyæœªé…ç½®æˆ–æ— æ•ˆï¼Œæ’ä»¶å°†æç¤ºç”¨æˆ·è¿›è¡Œé…ç½®ã€‚

```typescript
private static async handleSummarize() {
  const aiBot = document.querySelector('.weread-ai-bot');
  if (!aiBot) return;

  const icon = aiBot.querySelector('.ai-bot-icon');
  if (!(icon instanceof HTMLElement)) return;
  
  try {
    if (!chrome.runtime) {
      throw new Error('Chrome runtime not available');
    }

    // å…ˆæ£€æŸ¥é…ç½®
    const config = await chrome.storage.sync.get('config');
    if (!config.config?.apiKey) {
      throw new Error('è¯·å…ˆåœ¨æ’ä»¶è®¾ç½®ä¸­é…ç½® OpenAI API Key');
    }

    icon.textContent = 'â³';
    const content = this.getCurrentChapterContent();
    
    chrome.runtime.sendMessage({
      type: 'SUMMARIZE',
      content
    }, (response) => {
      if (chrome.runtime.lastError) {
        console.error('Runtime error:', chrome.runtime.lastError);
        throw new Error(chrome.runtime.lastError.message);
      }
      
      if (response.summary) {
        this.showSummaryModal(response.summary);
      } else {
        throw new Error(response.error || 'ç”Ÿæˆå¤±è´¥');
      }
    });
  } catch (error) {
    console.error('æ‘˜è¦ç”Ÿæˆå¤±è´¥:', error);
    alert(error instanceof Error ? error.message : 'æ‘˜è¦ç”Ÿæˆå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•');
  } finally {
    icon.textContent = 'ğŸ¤–';
  }
}
```

ç¡®ä¿åœ¨è°ƒç”¨APIå‰ï¼Œç”¨æˆ·å·²ç»æ­£ç¡®é…ç½®äº†API Keyï¼Œå¹¶åœ¨`background`è„šæœ¬ä¸­æ­£ç¡®å¤„ç†æ¶ˆæ¯ï¼š

```typescript
chrome.runtime.onMessage.addListener(async (message, sender, sendResponse) => {
  if (message.type === 'SUMMARIZE') {
    try {
      const config = await StorageManager.getConfig();
      if (!config?.apiKey) {
        throw new Error('API Key æœªé…ç½®');
      }

      const prompt = `
è¯·ä¸ºä»¥ä¸‹å†…å®¹ç”Ÿæˆä¸€ä¸ªç®€æ´ã€æ¸…æ™°ä¸”å…¨é¢çš„æ‘˜è¦ï¼Œæ¶µç›–ä¸»è¦è§‚ç‚¹å’Œå…³é”®ä¿¡æ¯ï¼š

å†…å®¹ï¼š
${message.content}

æ‘˜è¦ï¼š
      `;
      const apiResponse = await APIManager.callOpenAI(prompt);
      
      if (apiResponse.choices && apiResponse.choices.length > 0) {
        const summary = apiResponse.choices[0].message.content.trim();
        sendResponse({ summary });
      } else {
        throw new Error('APIæœªè¿”å›æœ‰æ•ˆçš„æ‘˜è¦ã€‚');
      }
    } catch (error) {
      console.error('ç”Ÿæˆæ‘˜è¦æ—¶å‡ºé”™:', error);
      sendResponse({ error: 'ç”Ÿæˆæ‘˜è¦æ—¶å‡ºé”™ï¼Œè¯·ç¡®ä¿APIé…ç½®æ­£ç¡®å¹¶ç¨åå†è¯•ã€‚' });
    }
    
    return true;
  } else if (message.type === 'EXTRACT_HIGHLIGHTS') {
    try {
      const highlights = await StorageManager.getHighlights();
      sendResponse({ highlights });
    } catch (error) {
      console.error('æå–é‡ç‚¹æ—¶å‡ºé”™:', error);
      sendResponse({ error: 'æå–é‡ç‚¹æ—¶å‡ºé”™ï¼Œè¯·ç¨åå†è¯•ã€‚' });
    }
    
    return true;
  }
});
```

## å¸¸è§é—®é¢˜

### 1. ä¸ºä»€ä¹ˆæ’ä»¶æç¤ºâ€œè¯·å…ˆåœ¨æ’ä»¶è®¾ç½®ä¸­é…ç½® OpenAI API Keyâ€ï¼Ÿ

è¯·ç¡®ä¿æ‚¨å·²ç»åœ¨æ’ä»¶çš„å¼¹å‡ºçª—å£ä¸­æ­£ç¡®è¾“å…¥äº†æ‚¨çš„OpenAI API Keyï¼Œå¹¶ç‚¹å‡»â€œä¿å­˜é…ç½®â€æŒ‰é’®ä¿å­˜è®¾ç½®ã€‚

### 2. å¦‚ä½•è·å–OpenAI API Keyï¼Ÿ

è®¿é—®[OpenAIè´¦æˆ·é¡µé¢](https://platform.openai.com/account/api-keys)ï¼Œç™»å½•åå¯ä»¥åˆ›å»ºå’Œç®¡ç†æ‚¨çš„API Keysã€‚

### 3. æ’ä»¶æ— æ³•ç”Ÿæˆæ‘˜è¦ï¼Œæç¤ºAPIè°ƒç”¨å¤±è´¥ï¼Ÿ

è¯·æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
- ç¡®ä¿æ‚¨çš„API Keyæ­£ç¡®ä¸”æœ‰æ•ˆã€‚
- ç¡®ä¿ç½‘ç»œè¿æ¥æ­£å¸¸ï¼Œå¯ä»¥è®¿é—®OpenAIçš„APIã€‚
- åœ¨`manifest.json`ä¸­é…ç½®äº†æ­£ç¡®çš„æƒé™å’Œè„šæœ¬è·¯å¾„ã€‚

## åé¦ˆä¸æ”¯æŒ

å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜æˆ–æœ‰ä»»ä½•å»ºè®®ï¼Œæ¬¢è¿æäº¤Issueæˆ–Pull Requeståˆ°æœ¬é¡¹ç›®çš„GitHubä»“åº“ã€‚